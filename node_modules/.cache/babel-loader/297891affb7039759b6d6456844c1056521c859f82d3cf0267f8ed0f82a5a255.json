{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sskut\\\\Desktop\\\\slot machine\\\\src\\\\components\\\\Carousel.tsx\",\n  _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\nimport { SERVICES } from '../data/services';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Carousel = ({\n  isSpinning,\n  winner\n}) => {\n  _s();\n  const controls = useAnimation();\n\n  // Дублируем для бесконечного эффекта\n  const repeatedServices = [...SERVICES, ...SERVICES, ...SERVICES, ...SERVICES, ...SERVICES];\n  useEffect(() => {\n    if (isSpinning && winner) {\n      const winnerIndex = SERVICES.findIndex(s => s.id === winner.id);\n      const centerOffset = Math.floor(repeatedServices.length / 2);\n\n      // Высота одного элемента (карточка + gap)\n      const itemHeight = 220; // 200px карточка + 20px gap\n\n      // Финальная позиция\n      const finalPosition = -(centerOffset + winnerIndex) * itemHeight;\n      controls.start({\n        y: [0, -4000, finalPosition],\n        transition: {\n          duration: 5,\n          ease: [0.25, 0.1, 0.25, 1],\n          times: [0, 0.7, 1]\n        }\n      });\n    } else {\n      // Начальная позиция\n      controls.set({\n        y: 0\n      });\n    }\n  }, [isSpinning, winner]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative w-full h-[660px] overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(motion.div, {\n      className: \"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 z-20 pointer-events-none px-4\",\n      animate: {\n        boxShadow: ['0 0 20px rgba(255, 62, 108, 0.4)', '0 0 40px rgba(255, 62, 108, 0.8)', '0 0 20px rgba(255, 62, 108, 0.4)']\n      },\n      transition: {\n        duration: 2,\n        repeat: Infinity\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-[200px] border-4 border-pink-500 rounded-3xl bg-gradient-to-r from-pink-500/10 to-rose-500/10 backdrop-blur-sm\",\n        style: {\n          boxShadow: '0 0 30px rgba(255, 62, 108, 0.5), inset 0 0 30px rgba(255, 255, 255, 0.1)'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-pink-500/80 to-transparent z-10 pointer-events-none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-orange-400/80 to-transparent z-10 pointer-events-none\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(motion.div, {\n      animate: controls,\n      className: \"flex flex-col items-center gap-5 py-[230px]\",\n      children: repeatedServices.map((service, index) => {\n        const distanceFromCenter = Math.abs(index - repeatedServices.length / 2);\n        const scale = Math.max(0.7, 1 - distanceFromCenter * 0.05);\n        const opacity = Math.max(0.3, 1 - distanceFromCenter * 0.1);\n        return /*#__PURE__*/_jsxDEV(motion.div, {\n          className: \"flex items-center justify-center bg-white/95 backdrop-blur-md rounded-3xl shadow-2xl border-2 border-white/50\",\n          style: {\n            width: '280px',\n            height: '200px',\n            opacity,\n            transform: `scale(${scale})`,\n            boxShadow: `\n                  0 10px 30px rgba(0, 0, 0, 0.2),\n                  inset 0 0 20px rgba(255, 255, 255, 0.5)\n                `\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: service.logo,\n            alt: service.name,\n            className: \"max-w-[80%] max-h-[80%] object-contain\",\n            style: {\n              filter: opacity < 0.7 ? 'blur(2px)' : 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this)\n        }, `${service.id}-${index}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n};\n_s(Carousel, \"6pZ2lBElA3YLtcQOKE/nS/LmH94=\", false, function () {\n  return [useAnimation];\n});\n_c = Carousel;\nexport default Carousel;\nvar _c;\n$RefreshReg$(_c, \"Carousel\");","map":{"version":3,"names":["useEffect","motion","useAnimation","SERVICES","jsxDEV","_jsxDEV","Carousel","isSpinning","winner","_s","controls","repeatedServices","winnerIndex","findIndex","s","id","centerOffset","Math","floor","length","itemHeight","finalPosition","start","y","transition","duration","ease","times","set","className","children","div","animate","boxShadow","repeat","Infinity","style","fileName","_jsxFileName","lineNumber","columnNumber","map","service","index","distanceFromCenter","abs","scale","max","opacity","width","height","transform","src","logo","alt","name","filter","_c","$RefreshReg$"],"sources":["C:/Users/sskut/Desktop/slot machine/src/components/Carousel.tsx"],"sourcesContent":["import { useEffect, useRef } from 'react';\nimport { motion, useAnimation } from 'framer-motion';\nimport { SERVICES } from '../data/services';\n\ninterface Props {\n  isSpinning: boolean;\n  winner: any;\n}\n\nconst Carousel = ({ isSpinning, winner }: Props) => {\n  const controls = useAnimation();\n\n  // Дублируем для бесконечного эффекта\n  const repeatedServices = [\n    ...SERVICES,\n    ...SERVICES,\n    ...SERVICES,\n    ...SERVICES,\n    ...SERVICES\n  ];\n\n  useEffect(() => {\n    if (isSpinning && winner) {\n      const winnerIndex = SERVICES.findIndex(s => s.id === winner.id);\n      const centerOffset = Math.floor(repeatedServices.length / 2);\n\n      // Высота одного элемента (карточка + gap)\n      const itemHeight = 220; // 200px карточка + 20px gap\n\n      // Финальная позиция\n      const finalPosition = -(centerOffset + winnerIndex) * itemHeight;\n\n      controls.start({\n        y: [0, -4000, finalPosition],\n        transition: {\n          duration: 5,\n          ease: [0.25, 0.1, 0.25, 1],\n          times: [0, 0.7, 1]\n        }\n      });\n    } else {\n      // Начальная позиция\n      controls.set({ y: 0 });\n    }\n\n  }, [isSpinning, winner]);\n\n  return (\n    <div className=\"relative w-full h-[660px] overflow-hidden\">\n\n      {/* Индикатор центра (рамка выделения) */}\n      <motion.div\n        className=\"absolute left-0 right-0 top-1/2 transform -translate-y-1/2 z-20 pointer-events-none px-4\"\n        animate={{\n          boxShadow: [\n            '0 0 20px rgba(255, 62, 108, 0.4)',\n            '0 0 40px rgba(255, 62, 108, 0.8)',\n            '0 0 20px rgba(255, 62, 108, 0.4)'\n          ]\n        }}\n        transition={{\n          duration: 2,\n          repeat: Infinity\n        }}\n      >\n        <div className=\"h-[200px] border-4 border-pink-500 rounded-3xl\n          bg-gradient-to-r from-pink-500/10 to-rose-500/10 backdrop-blur-sm\"\n          style={{\n            boxShadow: '0 0 30px rgba(255, 62, 108, 0.5), inset 0 0 30px rgba(255, 255, 255, 0.1)'\n          }}\n        />\n      </motion.div>\n\n      {/* Градиентные маски сверху и снизу */}\n      <div className=\"absolute top-0 left-0 right-0 h-32 bg-gradient-to-b from-pink-500/80 to-transparent z-10 pointer-events-none\" />\n      <div className=\"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-orange-400/80 to-transparent z-10 pointer-events-none\" />\n\n      {/* Барабан */}\n      <motion.div\n        animate={controls}\n        className=\"flex flex-col items-center gap-5 py-[230px]\"\n      >\n        {repeatedServices.map((service, index) => {\n          const distanceFromCenter = Math.abs(index - repeatedServices.length / 2);\n          const scale = Math.max(0.7, 1 - distanceFromCenter * 0.05);\n          const opacity = Math.max(0.3, 1 - distanceFromCenter * 0.1);\n\n          return (\n            <motion.div\n              key={`${service.id}-${index}`}\n              className=\"flex items-center justify-center bg-white/95 backdrop-blur-md\n                rounded-3xl shadow-2xl border-2 border-white/50\"\n              style={{\n                width: '280px',\n                height: '200px',\n                opacity,\n                transform: `scale(${scale})`,\n                boxShadow: `\n                  0 10px 30px rgba(0, 0, 0, 0.2),\n                  inset 0 0 20px rgba(255, 255, 255, 0.5)\n                `\n              }}\n            >\n              <img\n                src={service.logo}\n                alt={service.name}\n                className=\"max-w-[80%] max-h-[80%] object-contain\"\n                style={{\n                  filter: opacity < 0.7 ? 'blur(2px)' : 'none'\n                }}\n              />\n            </motion.div>\n          );\n        })}\n      </motion.div>\n    </div>\n  );\n};\n\nexport default Carousel;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}